# query-key-factory

> í”„ë¦¬í”½ìŠ¤ ê¸°ë°˜, ì™„ì „ íƒ€ì… ì•ˆì „ ì¿¼ë¦¬ í‚¤ íŒ©í† ë¦¬

---

## ğŸ‡°ğŸ‡· í•œêµ­ì–´ ì•ˆë‚´

### íŠ¹ì§•

- **ë‹¨ í•œ ì¤„ë¡œ í‚¤ ì •ì˜** â€“ `createKeyFactory("todo", { â€¦ })`
- ì»¤ë§(curry) ì§€ì› â€“ í”„ë¦¬í”½ìŠ¤ë¥¼ ì¬ì‚¬ìš©í•  ë•Œ í¸ë¦¬
- **Readonly íŠœí”Œ** ë°˜í™˜ìœ¼ë¡œ TanStack Query v5 `queryKey` ì™€ 100 % í˜¸í™˜
- ë§¤ê°œë³€ìˆ˜ ê°œìˆ˜Â·íƒ€ì…ì„ ê·¸ëŒ€ë¡œ ë³´ì¡´ â†’ ì‹¤ìˆ˜ ë°©ì§€

### ì„¤ì¹˜

```bash
pnpm add query-key-factory
```

### ì‚¬ìš© ì˜ˆì‹œ

```ts
import { createKeyFactory } from "@/lib/query-key-factory";

// â‘  ì›-ìŠ¤í…(one-shot)
export const todoKey = createKeyFactory("todo", {
  LIST: [],
  DETAIL: (id: string) => ["detail", id],
});

// â‘¡ ì»¤ë¦¬(curry) ë°©ì‹
const todoKeyFactory = createKeyFactory("todo");
export const todoKey2 = todoKeyFactory({
  LIST: [],
});

// íƒ€ì… ì¶”ë¡  ê²°ê³¼
const k1 = todoKey.LIST(); // readonly ["todo"]
const k2 = todoKey.DETAIL("123"); // readonly ["todo","detail","123"]
```

### API ë ˆí¼ëŸ°ìŠ¤

| í•¨ìˆ˜                              | ì„¤ëª…                                                                                              |
| --------------------------------- | ------------------------------------------------------------------------------------------------- |
| `createKeyFactory(prefix, defs?)` | í”„ë¦¬í”½ìŠ¤ì™€ í‚¤ ì •ì˜ ê°ì²´ë¥¼ ë°›ì•„ íƒ€ì… ì„¸ì´í”„í•œ í‚¤ ê°ì²´ë¥¼ ë°˜í™˜. `defs` ìƒëµ ì‹œ ì»¤ë¦¬ í˜•íƒœë¡œ ì‚¬ìš© ê°€ëŠ¥ |

#### Key Definition ê·œì¹™

```ts
{
  CONSTANT: [],                       // ê³ ì • í‚¤ (ë°°ì—´)
  PARAM   : (id: string) => [id],     // ë§¤ê°œë³€ìˆ˜ í‚¤ (í•¨ìˆ˜)
}
```

- ë°°ì—´ ë˜ëŠ” íŠœí”Œ ë°˜í™˜ í•¨ìˆ˜ë§Œ í—ˆìš©. ë¦¬í„°ëŸ´ íŠœí”Œì€ `as const` í•„ìš” âŒ â€“ ì œë„¤ë¦­ìœ¼ë¡œ ìë™ ë³´ì¡´.

### ë¼ì´ì„ ìŠ¤

MIT

**Author**

- **ê¹€ì˜í›ˆ (joseph0926)**

  - GitHub : [https://github.com/joseph0926](https://github.com/joseph0926)
  - Email : [joseph0926.dev@gmail.com](mailto:joseph0926.dev@gmail.com)

- Repository : [https://github.com/joseph0926/query-key-factory](https://github.com/joseph0926/query-key-factory)
